@QEMU_PATH@
-name
@NAME@
-machine
pc-lite,accel=kvm,kernel_irqchip,nvdimm
-device
nvdimm,memdev=mem0,id=nv0
-object
memory-backend-file,id=mem0,mem-path=@IMAGE@,size=@SIZE@
-m
2G,slots=2,maxmem=3G
-kernel
@KERNEL@
-append
@KERNEL_PARAMS@ @KERNEL_NET_PARAMS@
-device
virtio-9p-pci,fsdev=workload9p,mount_tag=rootfs
-fsdev
local,id=workload9p,path=@WORKLOAD_DIR@,security_model=none
-smp
2,sockets=1,cores=2,threads=1
-cpu
host
-rtc
base=utc,driftfix=slew
-no-user-config
-nodefaults
-global
kvm-pit.lost_tick_policy=discard
-device
virtio-serial-pci,id=virtio-serial0
-device
virtconsole,chardev=charconsole0,id=console0
-chardev
@CONSOLE_DEVICE@
-chardev
# used to determine when hypervisor has started running and when it has stopped.
@PROCESS_SOCKET@
#hyperstart ctl serial port
-chardev
socket,id=charch0,path=@AGENT_CTL_SOCKET@,server,nowait
-device
virtserialport,bus=virtio-serial0.0,nr=1,chardev=charch0,id=channel0,name=sh.hyper.channel.0
#hyperstart tty_serial port
-chardev
socket,id=charch1,path=@AGENT_TTY_SOCKET@,server,nowait
-device
virtserialport,bus=virtio-serial0.0,nr=2,chardev=charch1,id=channel1,name=sh.hyper.channel.1
-uuid
@UUID@
-qmp
unix:@COMMS_SOCKET@,server,nowait
-nographic
-vga
none
